node_types:

    # template for nodejs node
    agentless.nodes.NodeJSServer:
        derived_from: cloudify.nodes.WebServer
        interfaces:
            cloudify.interfaces.lifecycle:
                start:
                    implementation: fabric.fabric_plugin.tasks.run_script
                    inputs:
                        script_path:
                            default: scripts/install_nodejs.sh

    # template for mongo node
    agentless.nodes.MongoDatabase:
        derived_from: cloudify.nodes.DBMS
        properties:
          port:
            description: MongoDB port
            type: integer
        interfaces:
            cloudify.interfaces.lifecycle:
                start:
                    implementation: fabric.fabric_plugin.tasks.run_script
                    inputs:
                        script_path:
                            default: scripts/install_mongo.sh

    # template for postgresql node
    agentless.nodes.PostgreSqlDatabase:
        derived_from: cloudify.nodes.DBMS
        properties:
          port:
            description: PostgreSQL port
            type: integer
        interfaces:
            cloudify.interfaces.lifecycle:
                create:
                    implementation: fabric.fabric_plugin.tasks.run_script
                    inputs:
                        script_path:
                            default: scripts/install_postgresql.sh


    agentless.nodes.ScorePostgreSql:
        derived_from: cloudify.nodes.ApplicationModule
        interfaces:
            cloudify.interfaces.lifecycle:
                start:
                    implementation: fabric.fabric_plugin.tasks.run_task
                    inputs:
                        tasks_file:
                            default: scripts/install_score_postgresql.py
                        task_name:
                            default: install
                        task_properties:
                            default:
                             config: {}

    #template for nodejs application nodecellar
    agentless.nodes.nodecellar:
        derived_from: cloudify.nodes.ApplicationModule
        properties:
          port:
            description: Web application port
            type: integer
        interfaces:
            cloudify.interfaces.lifecycle:
                start:
                    implementation: fabric.fabric_plugin.tasks.run_script
                    inputs:
                        script_path:
                            default: scripts/install_nodecellar.sh
                stop:
                    implementation: fabric.fabric_plugin.tasks.run_script
                    inputs:
                        script_path:
                            default: scripts/stop_nodecellar.sh

    # template for gunicorn node
    agentless.nodes.GunicornServer:
        derived_from: cloudify.nodes.WebServer
        interfaces:
            cloudify.interfaces.lifecycle:
                start:
                    implementation: fabric.fabric_plugin.tasks.run_script
                    inputs:
                        script_path:
                            default: scripts/score/install_dependencies.sh

    #template for gunicorn application score
    agentless.nodes.score:
        derived_from: cloudify.nodes.ApplicationModule
        interfaces:
            cloudify.interfaces.lifecycle:
                create:
                    implementation: fabric.fabric_plugin.tasks.run_task
                    inputs:
                        tasks_file:
                            default: scripts/score/install_score.py
                        task_name:
                            default: install
                        task_properties:
                            default:
                             config: {}
                start:
                    implementation: fabric.fabric_plugin.tasks.run_task
                    inputs:
                        tasks_file:
                            default: scripts/score/configure.py
                        task_name:
                            default: configure
                        task_properties:
                            default:
                             config: {}
